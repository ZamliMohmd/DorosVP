function createCookie(e,t,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),r=0;r<a.length;r++){for(var n=a[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}$(document).ready(function(){var e;getCookie("year")?e=getCookie("year"):createCookie("year",e=(new Date).getFullYear(),"99999999");var t=["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],a=["sun","mnon","tues","wed","thr","fri","sat"],r=["01","02","03","04","05","06","07","08","09","10","11","12"],n=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],o=[{day:"sat",from:"5",to:"8"},{day:"sun",from:"4",to:"7"}],d=[{name:"أحمد العكلوك",type:"stauts-end",date:"year-01-07",hour:"4"},{name:"أحمد العكلوك",type:"stauts-will",date:"year-01-07",hour:"3"},{name:"أحمد العكلوك",type:"stauts-disabled",date:"year-01-07",hour:"5"}];function l(e=0,o,d){var l,i=new Date(o,e,1),c=[],s=[],h=[],u=[];for(l=0;l<12;l++)for(;i.getMonth()===l;)c.push(t[i.getDay()]),s.push(a[i.getDay()]),h.push(n[i.getDate()]),u.push(r[i.getMonth()]),o=i.getFullYear(),i.setDate(i.getDate()+1);return"day"==d?h:"month"==d?u:"nameDay"==d?c:"nameDay2"==d?s:"year"==d?o:void 0}var i,c=$(".empty").append($(".keyPopUpCalender").clone()).html();function s(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),a=Math.ceil(((e-t)/864e5+1)/7);return[e.getUTCFullYear(),a]}setTimeout(function(){var t,a=h;for(t=0;t<a;t++)$($(".tableCalenderTeacher").find("tr.dateEveryDay")).append("<td><p>"+l(0,e,"nameDay")[t]+"</p><p>"+l(0,e,"day")[t]+"/"+l(0,e,"month")[t]+"</p></td>")},10),setTimeout(function(){var e;for(e=23;e>=0;e--)$("<tr hour='"+e+"'class = 'H-"+e+"' >  < /tr>").insertAfter($(".tableCalenderTeacher").find("tr.dateEveryDay"))},20),setTimeout(function(){var t,a=h+1;for(t=1;t<a;t++)$($(".tableCalenderTeacher").find("tr:not(.dateEveryDay)")).append("<td data-nameDay='"+l(0,e,"nameDay2")[t-1]+"' date='"+l(0,e,"year")+"-"+l(0,e,"month")[t]+"-"+l(0,e,"day")[t-1]+"' class='"+t+"'>"+c+"</td>")},30),setTimeout(function(){var e,t=o.length;for(e=0;e<t;e++){var a;for(a=o[e].from;a<=o[e].to;a++)$($($("[hour='"+a+"']").find("[data-nameday ='"+o[e].day+"']")).find("span")).addClass("add").removeClass("noAdd")}},40),setTimeout(function(){var e,t=d.length;for(e=0;e<t;e++){var a;for(a=d[e].hour;a<=d[e].hour;a++)$($($("[hour='"+a+"']").find("[date ='"+d[e].date+"']"))).empty(),$($($("[hour='"+a+"']").find("[date ='"+d[e].date+"']"))).append("<span class='stauts "+d[e].type+"'>"+d[e].name+"</span>")}},50),setTimeout(function(){var e;for(e=23;e>=0;e--)$("tr.H-"+e).prepend("<td>"+e+":00</td>");$(".dateEveryDay").prepend("<td style='min-width:100px'></td>");var t=$(".tableCalenderTeacher").outerWidth(!0);$($(".tableCalenderTeacher").find("tr.dateEveryDay td")).css("min-width",t/7+"px")},60),setTimeout(function(){$(window).outerWidth(!0)>=992?$(".tableCalenderTeacher").animate({scrollLeft:-$(".tableCalenderTeacher").width()*(i[1]-1)},800):$(".tableCalenderTeacher").animate({scrollLeft:-($(window).outerWidth(!0)-277)*(w-1)},800)},70),e==(new Date).getFullYear()?i=s(new Date):(i=s(new Date(Date.UTC(e,0,4))))[1]=1;var h,u,p,f,m=new Date,y=new Date(m.getFullYear(),0,0),C=m-y,w=Math.floor(C/864e5);u=new Date(e,12,0),p=new Date(u.getFullYear(),0,0),f=u-p,h=Math.floor(f/864e5),w=e==(new Date).getFullYear()?Math.floor(C/864e5):"1",$(window).resize(function(){$(".dateEveryDay").prepend("<td style='min-width:100px'></td>");var e=$(".tableCalenderTeacher").outerWidth(!0);$($(".tableCalenderTeacher").find("tr.dateEveryDay td")).css("min-width",e/7+"px"),$(window).outerWidth(!0)>=992?$(".tableCalenderTeacher").animate({scrollLeft:-$(".tableCalenderTeacher").width()*(i[1]-1)},800):$(".tableCalenderTeacher").animate({scrollLeft:-($(window).outerWidth(!0)-277)*(w-1)},800)});var D=i[1]-1,T=w-1;$(".prevWeek").click(function(){$(window).outerWidth(!0)>=992?D>1?($(".tableCalenderTeacher").animate({scrollLeft:-$(".tableCalenderTeacher").width()*(D-1)},800),D-=1):D<=0&&(createCookie("year",parseInt(e,10)-1,"99999999"),location.reload()):T>1?($(".tableCalenderTeacher").animate({scrollLeft:-($(window).outerWidth(!0)-277)*(T-1)},800),T-=1):T<=0&&(createCookie("year",parseInt(e,10)-1,"99999999"),location.reload())}),$(".nextWeek").click(function(){$(window).outerWidth(!0)>=992?D<53?($(".tableCalenderTeacher").animate({scrollLeft:-$(".tableCalenderTeacher").width()*(D+1)},800),D+=1):D>=53&&(createCookie("year",parseInt(e,10)+1,"99999999"),location.reload()):T<366?($(".tableCalenderTeacher").animate({scrollLeft:-($(window).outerWidth(!0)-277)*(T+1)},800),T+=1):T>=366&&(createCookie("year",parseInt(e,10)+1,"99999999"),location.reload())}),$(document).on("click",".keyPopUpCalender.add",function(){$(".popUpFromCalender1 #date").val($($(this).parent()).attr("date")),$(".popUpFromCalender1 #from").val($($($(this).parent()).parent("tr")).attr("hour")),$(".popUpFromCalender1 #to").val(parseInt($($($(this).parent()).parent("tr")).attr("hour"),10)+1),$(".popUpFromCalender1").addClass("show")}),$(document).on("click",".popUpFromCalender1 .closeX",function(){$(".popUpFromCalender1").removeClass("show")})});